version: '2'
services:

    gn:
        build: ./gn
        expose:
            - "8009"
        links:
            - db
        volumes_from:
            - data
        container_name: "geonetwork"

    gs:
        build: ./gs
        expose:
            - "8009"
        links:
            - db
        volumes_from:
            - data
        container_name: "geoserver"

    db:
        build: ./db
        volumes_from:
            - data
    data:
        build: ./data
        ports:
            - "9102:9102"

    apache:
        build: 
            context: ./httpd
        ports:
            - "80:80"
            - "443:443"
        container_name: "apache"

